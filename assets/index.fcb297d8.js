import{f as h}from"./index.6e03100f.js";import{M as f,d as v}from"./Month.e588142d.js";import{_ as y,r as b,o as d,c as p,d as i,t as m,F as x,l as T,e as _,q as k}from"./app.376890f8.js";const g={components:{Month:f},data(){return{loading:!1,streak:0,totalActiveDays:0,submitList:[],timeline:[]}},computed:{amount(){return this.submitList.reduce((t,n)=>t+n.count,0)}},methods:{initMonths(){let t=0;const n=[],c=v();for(;t<=12;){const e=c.subtract(t,"month");let o=e.startOf("month"),s=e.endOf("month");t===0&&(s=e),t===12&&(o=e),n.unshift({startTime:o,endTime:s}),t++}const l=[...n].reverse(),a=[];l.reduce((e,o)=>{const{startTime:s,endTime:r}=o,u=(r.date()-s.date()+1+e)%7;return a.push({startTime:s.valueOf(),endTime:r.valueOf(),indent:7-u}),u},0),this.timeline=a.reverse()},initRecentData(t){},initCalendarData(t){const{userCalendar:n}=t,{streak:c,totalActiveDays:l,submissionCalendar:a}=n;this.streak=c,this.totalActiveDays=l;const e=JSON.parse(a);this.submitList=Object.keys(e).map(o=>({time:o,count:e[o]}))}},mounted(){this.initMonths(),Promise.all([h("https://leetcode-api-new.herokuapp.com/recentSubmit/qaqljj"),h("https://leetcode-api-new.herokuapp.com/calendar/qaqljj")]).then(([t,n])=>{this.initRecentData(t),this.initCalendarData(n)})}},D={class:"calendar"},M={class:"flex"},L=_(" \u8FC7\u53BB\u4E00\u5E74\u4E00\u5171\u63D0\u4EA4\u4E86 "),j=_(" \u6B21 "),w={class:"flex ml-auto"},C={class:"monthWrap"};function O(t,n,c,l,a,e){const o=b("Month");return d(),p("div",D,[i("div",M,[i("span",null,[L,i("span",null,m(e.amount),1),j]),i("span",w,[i("span",null," \u7D2F\u8BA1\u63D0\u4EA4\uFF1A"+m(a.totalActiveDays)+" \xA0 ",1),i("span",null," \u8FDE\u7EED\u63D0\u4EA4\uFF1A"+m(a.streak),1)])]),i("div",C,[(d(!0),p(x,null,T(a.timeline,(s,r)=>(d(),k(o,{key:r,showMonth:r>=1,indent:s.indent,startTime:s.startTime,endTime:s.endTime,days:s.days,submitList:a.submitList},null,8,["showMonth","indent","startTime","endTime","days","submitList"]))),128))])])}var N=y(g,[["render",O],["__file","index.vue"]]);export{N as default};
