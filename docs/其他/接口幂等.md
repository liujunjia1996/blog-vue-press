## 什么是接口幂等

以相同的请求调用同一接口一次和多次，对系统产生的影响是相同的

## 什么场景需要幂等

删、改、查天生幂等，增加操作需要

## 如何实现

### 请求序列号

每个请求前端带一个 uuid，后端放入缓存，入库前判断请求序列号是否已经在缓存中了，如果没有才处理。

### 唯一索引

 建立唯一索引，重复后会报错给前端，前端提示用户刷新

### upsert

mongodb 有一个原子的 upsert 命令，可能有幂等问题的接口可以使用 upsert ，无则插入，有则更新，重复执行了也不会有问题。   

ps：幂等问题前端也可以通过提交前不允许再次点击按钮来尽量避免